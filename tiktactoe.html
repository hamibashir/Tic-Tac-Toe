<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hangman Game</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #2a2d3a;
            min-height: 100vh;
            color: #fff;
            overflow-x: hidden;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Dashboard */
        .dashboard {
            display: block;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
        }

        .title {
            font-size: 3rem;
            font-weight: 700;
            color: #fff;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
            margin-bottom: 10px;
        }

        .subtitle {
            color: #a0a0a0;
            font-size: 1.1rem;
            margin-bottom: 30px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .stat-card {
            background: rgba(42, 45, 58, 0.95);
            border: 1px solid rgba(255, 215, 0, 0.2);
            border-radius: 12px;
            padding: 24px;
            text-align: center;
            transition: all 0.3s ease;
        }

        .stat-card:hover {
            border-color: #FFD700;
            box-shadow: 0 4px 20px rgba(255, 215, 0, 0.1);
            transform: translateY(-2px);
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: 700;
            color: #FFD700;
            margin-bottom: 8px;
        }

        .stat-label {
            color: #a0a0a0;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .game-modes {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .mode-card {
            background: rgba(42, 45, 58, 0.95);
            border: 2px solid rgba(255, 215, 0, 0.3);
            border-radius: 12px;
            padding: 24px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .mode-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: rgba(255, 215, 0, 0.1);
            transition: left 0.3s ease;
            z-index: 1;
        }

        .mode-card:hover::before {
            left: 0;
        }

        .mode-card:hover {
            border-color: #FFD700;
            transform: translateY(-4px);
            box-shadow: 0 8px 25px rgba(255, 215, 0, 0.2);
        }

        .mode-card > * {
            position: relative;
            z-index: 2;
        }

        .mode-icon {
            font-size: 3rem;
            margin-bottom: 16px;
        }

        .mode-title {
            font-size: 1.3rem;
            font-weight: 600;
            color: #fff;
            margin-bottom: 8px;
        }

        .mode-description {
            color: #a0a0a0;
            font-size: 0.9rem;
            line-height: 1.4;
        }

        /* Game Screen */
        .game-screen {
            display: none;
        }

        .game-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(42, 45, 58, 0.95);
            border: 1px solid rgba(255, 215, 0, 0.2);
            border-radius: 12px;
        }

        .game-info {
            display: flex;
            gap: 30px;
        }

        .info-item {
            text-align: center;
        }

        .info-label {
            color: #a0a0a0;
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 4px;
        }

        .info-value {
            color: #FFD700;
            font-size: 1.2rem;
            font-weight: 600;
        }

        .back-btn {
            padding: 10px 20px;
            background: transparent;
            border: 2px solid #a0a0a0;
            border-radius: 6px;
            color: #a0a0a0;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
        }

        .back-btn:hover {
            border-color: #FFD700;
            color: #FFD700;
            transform: translateY(-2px);
        }

        .game-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        .hangman-section {
            background: rgba(42, 45, 58, 0.95);
            border: 1px solid rgba(255, 215, 0, 0.2);
            border-radius: 12px;
            padding: 24px;
            text-align: center;
        }

        .hangman-drawing {
            margin: 20px 0;
            border: 2px solid rgba(255, 215, 0, 0.3);
            border-radius: 8px;
            padding: 20px;
            background: rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .hangman-drawing.danger {
            border-color: rgba(255, 107, 107, 0.5);
            animation: shake 0.5s ease-in-out;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-3px); }
            75% { transform: translateX(3px); }
        }

        .hangman-svg {
            width: 200px;
            height: 250px;
        }

        .gallows {
            stroke: #FFD700;
            stroke-width: 4;
            fill: none;
        }

        .body-part {
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
        }

        .body-part.visible {
            opacity: 1;
        }

        .head {
            stroke: #ff6b6b;
            stroke-width: 3;
            fill: none;
        }

        .body {
            stroke: #ff6b6b;
            stroke-width: 3;
        }

        .limbs {
            stroke: #ff6b6b;
            stroke-width: 3;
        }

        .face-normal {
            fill: #FFD700;
        }

        .face-dead {
            fill: #ff6b6b;
        }

        .ground {
            stroke: #a0a0a0;
            stroke-width: 3;
            fill: #666;
        }

        .word-section {
            background: rgba(42, 45, 58, 0.95);
            border: 1px solid rgba(255, 215, 0, 0.2);
            border-radius: 12px;
            padding: 24px;
        }

        .category-display {
            text-align: center;
            margin-bottom: 20px;
            padding: 12px;
            background: rgba(255, 215, 0, 0.1);
            border: 1px solid rgba(255, 215, 0, 0.3);
            border-radius: 8px;
            color: #FFD700;
            font-weight: 600;
        }

        .word-display {
            text-align: center;
            font-size: 2.5rem;
            font-weight: 700;
            letter-spacing: 8px;
            margin: 30px 0;
            color: #fff;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        .hint-section {
            text-align: center;
            margin: 20px 0;
            padding: 16px;
            background: rgba(255, 215, 0, 0.05);
            border-radius: 8px;
            border: 1px solid rgba(255, 215, 0, 0.1);
        }

        .hint-text {
            color: #a0a0a0;
            font-style: italic;
            margin-top: 8px;
        }

        .alphabet-grid {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            gap: 8px;
            margin-bottom: 30px;
        }

        .letter-btn {
            aspect-ratio: 1;
            border: 2px solid #FFD700;
            background: transparent;
            color: #FFD700;
            font-size: 1.1rem;
            font-weight: 600;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .letter-btn:hover:not(:disabled) {
            background: #FFD700;
            color: #2a2d3a;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(255, 215, 0, 0.3);
        }

        .letter-btn:disabled {
            background: #ff6b6b;
            border-color: #ff6b6b;
            color: #fff;
            cursor: not-allowed;
            opacity: 0.7;
        }

        .letter-btn.correct {
            background: #4ecdc4;
            border-color: #4ecdc4;
            color: #fff;
        }

        .game-controls {
            text-align: center;
        }

        .control-btn {
            padding: 12px 24px;
            margin: 0 8px;
            border: 2px solid;
            border-radius: 6px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            background: transparent;
        }

        .btn-primary {
            border-color: #FFD700;
            color: #FFD700;
        }

        .btn-primary:hover {
            background: #FFD700;
            color: #2a2d3a;
        }

        .btn-secondary {
            border-color: #4ecdc4;
            color: #4ecdc4;
        }

        .btn-secondary:hover {
            background: #4ecdc4;
            color: #fff;
        }

        .game-message {
            text-align: center;
            font-size: 1.2rem;
            font-weight: 600;
            margin: 20px 0;
            min-height: 30px;
        }

        .win-message {
            color: #4ecdc4;
        }

        .lose-message {
            color: #ff6b6b;
        }

        @media (max-width: 768px) {
            .title {
                font-size: 2rem;
            }

            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .game-modes {
                grid-template-columns: 1fr;
            }

            .game-content {
                grid-template-columns: 1fr;
            }

            .game-header {
                flex-direction: column;
                gap: 20px;
            }

            .word-display {
                font-size: 1.8rem;
                letter-spacing: 4px;
            }

            .alphabet-grid {
                grid-template-columns: repeat(5, 1fr);
            }
        }

        @media (max-width: 480px) {
            .alphabet-grid {
                grid-template-columns: repeat(4, 1fr);
            }
            
            .control-btn {
                display: block;
                width: 100%;
                margin: 8px 0;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Dashboard -->
        <div class="dashboard" id="dashboard">
            <div class="header">
                <h1 class="title">Hangman Game</h1>
                <p class="subtitle">Test your vocabulary and save the stick figure!</p>
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number" id="totalGames">0</div>
                    <div class="stat-label">Total Games</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="gamesWon">0</div>
                    <div class="stat-label">Games Won</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="winRate">0%</div>
                    <div class="stat-label">Win Rate</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="currentStreak">0</div>
                    <div class="stat-label">Current Streak</div>
                </div>
            </div>

            <div class="game-modes">
                <div class="mode-card" onclick="startGame('easy')">
                    <div class="mode-icon">üå±</div>
                    <div class="mode-title">Easy Mode</div>
                    <div class="mode-description">Simple 4-6 letter words perfect for beginners</div>
                </div>
                <div class="mode-card" onclick="startGame('medium')">
                    <div class="mode-icon">üéØ</div>
                    <div class="mode-title">Medium Mode</div>
                    <div class="mode-description">Challenging 6-8 letter words for intermediate players</div>
                </div>
                <div class="mode-card" onclick="startGame('hard')">
                    <div class="mode-icon">üî•</div>
                    <div class="mode-title">Hard Mode</div>
                    <div class="mode-description">Complex 8+ letter words for vocabulary masters</div>
                </div>
            </div>
        </div>

        <!-- Game Screen -->
        <div class="game-screen" id="gameScreen">
            <div class="game-header">
                <div class="game-info">
                    <div class="info-item">
                        <div class="info-label">Difficulty</div>
                        <div class="info-value" id="currentDifficulty">Easy</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Wrong Guesses</div>
                        <div class="info-value"><span id="wrongGuesses">0</span>/6</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Score</div>
                        <div class="info-value" id="currentScore">0</div>
                    </div>
                </div>
                <button class="back-btn" onclick="backToDashboard()">‚Üê Back to Dashboard</button>
            </div>

            <div class="game-content">
                <div class="hangman-section">
                    <h3 style="color: #FFD700; margin-bottom: 16px;">Hangman</h3>
                    <div class="hangman-drawing" id="hangmanDrawing">
                        <svg class="hangman-svg" viewBox="0 0 200 250">
                            <!-- Gallows structure -->
                            <line x1="10" y1="230" x2="150" y2="230" class="gallows ground" />
                            <line x1="30" y1="230" x2="30" y2="20" class="gallows" />
                            <line x1="30" y1="20" x2="120" y2="20" class="gallows" />
                            <line x1="120" y1="20" x2="120" y2="50" class="gallows" />
                            
                            <!-- Body parts (initially hidden) -->
                            <!-- Head -->
                            <circle cx="120" cy="65" r="15" class="body-part head" id="head" />
                            <circle cx="115" cy="60" r="2" class="body-part face-normal" id="leftEye" />
                            <circle cx="125" cy="60" r="2" class="body-part face-normal" id="rightEye" />
                            <path d="M 113 70 Q 120 75 127 70" stroke="#FFD700" stroke-width="2" 
                                  fill="none" class="body-part" id="mouth" />
                            
                            <!-- Dead face (X eyes and frown) -->
                            <g class="body-part" id="deadFace" style="opacity: 0;">
                                <line x1="112" y1="58" x2="118" y2="64" stroke="#ff6b6b" stroke-width="2"/>
                                <line x1="118" y1="58" x2="112" y2="64" stroke="#ff6b6b" stroke-width="2"/>
                                <line x1="122" y1="58" x2="128" y2="64" stroke="#ff6b6b" stroke-width="2"/>
                                <line x1="128" y1="58" x2="122" y2="64" stroke="#ff6b6b" stroke-width="2"/>
                                <path d="M 113 72 Q 120 68 127 72" stroke="#ff6b6b" stroke-width="2" fill="none"/>
                            </g>
                            
                            <!-- Body -->
                            <line x1="120" y1="80" x2="120" y2="160" class="body-part body" id="body" />
                            
                            <!-- Left arm -->
                            <line x1="120" y1="100" x2="90" y2="130" class="body-part limbs" id="leftArm" />
                            
                            <!-- Right arm -->
                            <line x1="120" y1="100" x2="150" y2="130" class="body-part limbs" id="rightArm" />
                            
                            <!-- Left leg -->
                            <line x1="120" y1="160" x2="90" y2="200" class="body-part limbs" id="leftLeg" />
                            
                            <!-- Right leg -->
                            <line x1="120" y1="160" x2="150" y2="200" class="body-part limbs" id="rightLeg" />
                        </svg>
                    </div>
                </div>

                <div class="word-section">
                    <div class="category-display" id="categoryDisplay"></div>
                    <div class="word-display" id="wordDisplay"></div>
                    <div class="hint-section">
                        <strong style="color: #FFD700;">Hint:</strong>
                        <div class="hint-text" id="hintText"></div>
                    </div>
                </div>
            </div>

            <div class="alphabet-grid" id="alphabetGrid"></div>

            <div class="game-message" id="gameMessage"></div>

            <div class="game-controls">
                <button class="control-btn btn-primary" onclick="newGame()" id="newGameBtn">New Game</button>
                <button class="control-btn btn-secondary" onclick="getHint()" id="hintBtn">Get Hint (50 points)</button>
            </div>
        </div>
    </div>

    <script>
        // Game data
        const wordCategories = {
            easy: {
                "Animals": [
                    {word: "CAT", hint: "A small furry pet that meows"},
                    {word: "DOG", hint: "Man's best friend"},
                    {word: "FISH", hint: "Lives in water and has fins"},
                    {word: "BIRD", hint: "Has wings and can fly"},
                    {word: "LION", hint: "King of the jungle"},
                    {word: "BEAR", hint: "Large mammal that hibernates"},
                    {word: "WOLF", hint: "Wild dog that howls at the moon"}
                ],
                "Colors": [
                    {word: "RED", hint: "Color of blood and roses"},
                    {word: "BLUE", hint: "Color of the sky and ocean"},
                    {word: "GREEN", hint: "Color of grass and leaves"},
                    {word: "PINK", hint: "Light red color"},
                    {word: "BLACK", hint: "Darkest color"},
                    {word: "WHITE", hint: "Color of snow and clouds"}
                ],
                "Food": [
                    {word: "APPLE", hint: "Red or green fruit"},
                    {word: "BREAD", hint: "Made from flour and eaten daily"},
                    {word: "MILK", hint: "White drink from cows"},
                    {word: "CAKE", hint: "Sweet dessert for birthdays"},
                    {word: "RICE", hint: "White grains, staple food"}
                ]
            },
            medium: {
                "Technology": [
                    {word: "COMPUTER", hint: "Electronic device for processing data"},
                    {word: "INTERNET", hint: "Global network connecting computers"},
                    {word: "SOFTWARE", hint: "Programs that run on computers"},
                    {word: "KEYBOARD", hint: "Input device with letters and numbers"},
                    {word: "MONITOR", hint: "Screen that displays computer output"},
                    {word: "WEBSITE", hint: "Collection of web pages"}
                ],
                "Nature": [
                    {word: "MOUNTAIN", hint: "Very high hill or peak"},
                    {word: "FOREST", hint: "Large area covered with trees"},
                    {word: "RAINBOW", hint: "Colorful arc in the sky after rain"},
                    {word: "THUNDER", hint: "Loud sound during storms"},
                    {word: "SUNRISE", hint: "When the sun appears in the morning"}
                ],
                "Sports": [
                    {word: "FOOTBALL", hint: "Sport played with oval ball"},
                    {word: "SWIMMING", hint: "Moving through water"},
                    {word: "TENNIS", hint: "Racket sport with yellow ball"},
                    {word: "CRICKET", hint: "Sport with bat, ball, and wickets"}
                ]
            },
            hard: {
                "Science": [
                    {word: "PHOTOSYNTHESIS", hint: "Process plants use to make food from sunlight"},
                    {word: "CHROMOSOME", hint: "Structure containing DNA in cells"},
                    {word: "THERMODYNAMICS", hint: "Study of heat and energy transfer"},
                    {word: "ELECTROMAGNETIC", hint: "Related to electricity and magnetism"},
                    {word: "CRYSTALLIZATION", hint: "Formation of crystal structures"}
                ],
                "Geography": [
                    {word: "ARCHIPELAGO", hint: "Group of islands"},
                    {word: "MEDITERRANEAN", hint: "Sea between Europe and Africa"},
                    {word: "PRECIPITATION", hint: "Rain, snow, or other forms of water falling"},
                    {word: "TOPOGRAPHY", hint: "Physical features of land surface"},
                    {word: "CONTINENTAL", hint: "Related to large landmasses"}
                ],
                "Literature": [
                    {word: "SHAKESPEARE", hint: "Famous English playwright"},
                    {word: "METAPHOR", hint: "Figure of speech comparing unlike things"},
                    {word: "ALLITERATION", hint: "Repetition of initial sounds"},
                    {word: "PROTAGONIST", hint: "Main character in a story"}
                ]
            }
        };

        // Game state
        let currentGame = {
            word: '',
            category: '',
            hint: '',
            guessedLetters: [],
            wrongGuesses: 0,
            difficulty: 'easy',
            score: 0,
            gameActive: false,
            hintsUsed: 0
        };

        // Stats (stored in memory during session)
        let gameStats = {
            totalGames: 0,
            gamesWon: 0,
            currentStreak: 0,
            bestStreak: 0
        };

        // Hangman body parts in order of mistakes
        const hangmanStages = [
            [], // 0 mistakes - empty gallows
            ['head', 'leftEye', 'rightEye', 'mouth'], // 1st mistake - complete face
            ['head', 'leftEye', 'rightEye', 'mouth', 'body'], // 2nd mistake - add body
            ['head', 'leftEye', 'rightEye', 'mouth', 'body', 'leftArm'], // 3rd mistake - add left arm
            ['head', 'leftEye', 'rightEye', 'mouth', 'body', 'leftArm', 'rightArm'], // 4th mistake - add right arm
            ['head', 'leftEye', 'rightEye', 'mouth', 'body', 'leftArm', 'rightArm', 'leftLeg'], // 5th mistake - add left leg
            ['head', 'leftEye', 'rightEye', 'mouth', 'body', 'leftArm', 'rightArm', 'leftLeg', 'rightLeg'] // 6th mistake - add right leg (game over)
        ];

        function showHangmanPart(mistakeCount) {
            // Reset all parts first
            const allParts = ['head', 'leftEye', 'rightEye', 'mouth', 'body', 'leftArm', 'rightArm', 'leftLeg', 'rightLeg'];
            allParts.forEach(part => {
                const element = document.getElementById(part);
                if (element) element.classList.remove('visible');
            });
            
            // Hide dead face initially
            const deadFace = document.getElementById('deadFace');
            deadFace.style.opacity = '0';
            
            // Show parts based on mistake count
            if (mistakeCount < hangmanStages.length) {
                const partsToShow = hangmanStages[mistakeCount];
                partsToShow.forEach(part => {
                    const element = document.getElementById(part);
                    if (element) element.classList.add('visible');
                });
            }
            
            // Show dead face on final stage (6th mistake)
            if (mistakeCount >= 6) {
                // Hide normal face
                document.getElementById('leftEye').classList.remove('visible');
                document.getElementById('rightEye').classList.remove('visible');
                document.getElementById('mouth').classList.remove('visible');
                // Show dead face
                deadFace.style.opacity = '1';
            }
        }

        // Initialize game
        document.addEventListener('DOMContentLoaded', function() {
            updateStats();
            createAlphabet();
        });

        function updateStats() {
            document.getElementById('totalGames').textContent = gameStats.totalGames;
            document.getElementById('gamesWon').textContent = gameStats.gamesWon;
            
            const winRate = gameStats.totalGames > 0 ? 
                Math.round((gameStats.gamesWon / gameStats.totalGames) * 100) : 0;
            document.getElementById('winRate').textContent = winRate + '%';
            document.getElementById('currentStreak').textContent = gameStats.currentStreak;
        }

        function startGame(difficulty) {
            currentGame.difficulty = difficulty;
            document.getElementById('dashboard').style.display = 'none';
            document.getElementById('gameScreen').style.display = 'block';
            document.getElementById('currentDifficulty').textContent = 
                difficulty.charAt(0).toUpperCase() + difficulty.slice(1);
            
            newGame();
        }

        function newGame() {
            // Reset game state
            currentGame.guessedLetters = [];
            currentGame.wrongGuesses = 0;
            currentGame.gameActive = true;
            currentGame.hintsUsed = 0;
            
            // Select random word
            const categories = Object.keys(wordCategories[currentGame.difficulty]);
            const randomCategory = categories[Math.floor(Math.random() * categories.length)];
            const words = wordCategories[currentGame.difficulty][randomCategory];
            const randomWord = words[Math.floor(Math.random() * words.length)];
            
            currentGame.word = randomWord.word;
            currentGame.category = randomCategory;
            currentGame.hint = randomWord.hint;
            
            // Calculate base score based on difficulty
            const baseScore = {
                easy: 100,
                medium: 200,
                hard: 300
            };
            currentGame.score = baseScore[currentGame.difficulty];
            
            updateDisplay();
            resetAlphabet();
            document.getElementById('gameMessage').textContent = '';
            document.getElementById('hintBtn').style.display = 'inline-block';
            
            // Reset hangman drawing
            showHangmanPart(0);
        }

        function createAlphabet() {
            const alphabetGrid = document.getElementById('alphabetGrid');
            alphabetGrid.innerHTML = '';
            
            for (let i = 65; i <= 90; i++) {
                const letter = String.fromCharCode(i);
                const button = document.createElement('button');
                button.className = 'letter-btn';
                button.textContent = letter;
                button.onclick = () => guessLetter(letter);
                button.id = `letter-${letter}`;
                alphabetGrid.appendChild(button);
            }
        }

        function resetAlphabet() {
            for (let i = 65; i <= 90; i++) {
                const letter = String.fromCharCode(i);
                const button = document.getElementById(`letter-${letter}`);
                button.disabled = false;
                button.className = 'letter-btn';
            }
        }

        function guessLetter(letter) {
            if (!currentGame.gameActive || currentGame.guessedLetters.includes(letter)) {
                return;
            }

            currentGame.guessedLetters.push(letter);
            const button = document.getElementById(`letter-${letter}`);
            button.disabled = true;

            if (currentGame.word.includes(letter)) {
                button.className = 'letter-btn correct';
                currentGame.score += 10; // Bonus for correct guess
                
                // Check if word is complete
                if (isWordComplete()) {
                    winGame();
                }
            } else {
                button.className = 'letter-btn';
                currentGame.wrongGuesses++;
                currentGame.score -= 15; // Penalty for wrong guess
                
                if (currentGame.wrongGuesses >= 6) {
                    loseGame();
                }
            }

            updateDisplay();
        }

        function isWordComplete() {
            return currentGame.word.split('').every(letter => 
                currentGame.guessedLetters.includes(letter) || letter === ' '
            );
        }

        function winGame() {
            currentGame.gameActive = false;
            gameStats.totalGames++;
            gameStats.gamesWon++;
            gameStats.currentStreak++;
            
            // Bonus points for winning
            const difficultyBonus = {
                easy: 50,
                medium: 100,
                hard: 200
            };
            currentGame.score += difficultyBonus[currentGame.difficulty];
            
            // Bonus for fewer wrong guesses
            currentGame.score += (6 - currentGame.wrongGuesses) * 20;
            
            document.getElementById('gameMessage').innerHTML = 
                `<span class="win-message">üéâ Congratulations! You saved the stick figure! üéâ<br>Final Score: ${currentGame.score}</span>`;
            document.getElementById('hintBtn').style.display = 'none';
            
            updateStats();
        }

        function loseGame() {
            currentGame.gameActive = false;
            gameStats.totalGames++;
            gameStats.currentStreak = 0;
            
            document.getElementById('gameMessage').innerHTML = 
                `<span class="lose-message">üíÄ Game Over! The word was: <strong>${currentGame.word}</strong><br>Final Score: ${currentGame.score}</span>`;
            document.getElementById('hintBtn').style.display = 'none';
            
            // Disable all letters
            for (let i = 65; i <= 90; i++) {
                const letter = String.fromCharCode(i);
                document.getElementById(`letter-${letter}`).disabled = true;
            }
            
            updateStats();
        }

        function getHint() {
            if (!currentGame.gameActive || currentGame.hintsUsed >= 2) {
                return;
            }
            
            currentGame.hintsUsed++;
            currentGame.score -= 50;
            
            if (currentGame.hintsUsed >= 2) {
                document.getElementById('hintBtn').style.display = 'none';
            }
            
            // Find an unguessed letter in the word
            const unguessedLetters = currentGame.word.split('').filter(letter => 
                letter !== ' ' && !currentGame.guessedLetters.includes(letter)
            );
            
            if (unguessedLetters.length > 0) {
                const hintLetter = unguessedLetters[0];
                guessLetter(hintLetter);
            }
            
            updateDisplay();
        }

        function updateDisplay() {
            // Update word display
            const wordDisplay = currentGame.word.split('').map(letter => {
                if (letter === ' ') return ' ';
                return currentGame.guessedLetters.includes(letter) ? letter : '_';
            }).join(' ');
            
            document.getElementById('wordDisplay').textContent = wordDisplay;
            document.getElementById('categoryDisplay').textContent = `Category: ${currentGame.category}`;
            document.getElementById('hintText').textContent = currentGame.hint;
            document.getElementById('wrongGuesses').textContent = currentGame.wrongGuesses;
            document.getElementById('currentScore').textContent = currentGame.score;
            
            // Update hangman drawing
            showHangmanPart(currentGame.wrongGuesses);
            
            // Add visual feedback based on danger level
            const hangmanElement = document.getElementById('hangmanDrawing');
            hangmanElement.classList.remove('danger');
            if (currentGame.wrongGuesses >= 4) {
                hangmanElement.classList.add('danger');
            }
        }

        function backToDashboard() {
            document.getElementById('dashboard').style.display = 'block';
            document.getElementById('gameScreen').style.display = 'none';
        }

        // Keyboard support
        document.addEventListener('keydown', function(event) {
            if (currentGame.gameActive && event.key.match(/[a-zA-Z]/)) {
                const letter = event.key.toUpperCase();
                guessLetter(letter);
            }
        });
    </script>
</body>
</html>